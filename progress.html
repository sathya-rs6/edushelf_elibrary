<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EduShelf - Progress Tracker</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background-color: #f5f7fa;
      color: #333;
    }

    header {
      background-color: #c72222;
      color: white;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 20px;
      font-weight: bold;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
    }

    nav ul li a {
      text-decoration: none;
      color: white;
      font-weight: 500;
    }

    nav ul li a:hover {
      color: #ffcc00;
    }

    .progress-header {
      text-align: center;
      margin: 30px 0 20px;
    }

    .selector {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    select {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ddd;
    }

    .progress-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px 40px;
    }

    .progress-card {
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      width: 320px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
      position: relative;
    }

    .progress-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }

    .progress-card h3 {
      margin-top: 0;
      color: #0066cc;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .progress-bar {
      height: 12px;
      background-color: #e0e0e0;
      border-radius: 6px;
      margin: 10px 0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 6px;
      width: 0%;
      transition: width 0.5s ease;
    }

    .progress-details {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
    }

    .progress-level {
      font-weight: 600;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 12px;
      text-transform: uppercase;
    }

    .level-beginner {
      background-color: #FFEBEE;
      color: #C62828;
    }

    .level-intermediate {
      background-color: #FFF8E1;
      color: #FF8F00;
    }

    .level-advanced {
      background-color: #E8F5E9;
      color: #2E7D32;
    }

    .level-expert {
      background-color: #E3F2FD;
      color: #1565C0;
    }

    .progress-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      align-items: center;
    }

    .update-btn {
      padding: 8px 15px;
      background-color: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.3s;
    }

    .update-btn:hover {
      background-color: #0052a3;
    }

    .progress-input {
      width: 60px;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      text-align: center;
      font-size: 14px;
    }

    .last-updated {
      font-size: 12px;
      color: #777;
      margin-top: 10px;
    }

    .performance-metrics {
      margin-top: 15px;
      border-top: 1px dashed #eee;
      padding-top: 10px;
    }

    .metric {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
      font-size: 13px;
    }

    .metric-label {
      color: #666;
    }

    .metric-value {
      font-weight: 500;
    }

    .subject-icon {
      font-size: 18px;
      color: #c72222;
    }

    .streak-indicator {
      position: absolute;
      top: 15px;
      right: 15px;
      background-color: #FF5722;
      color: white;
      border-radius: 50%;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }

    @media (max-width: 768px) {
      .progress-container {
        flex-direction: column;
        align-items: center;
      }
      
      .progress-card {
        width: 90%;
      }
      
      .selector {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">ðŸ“š EduShelf</div>
    <nav>
      <ul>
        <li><a href="books.html">Books</a></li>
        <li><a href="progress.html">Progress</a></li>
        <li><a href="todolist.html">To-Do List</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="signup.html">Sign Up</a></li>
        <li><a href="profile.html">Profile</a></li>
      </ul>
    </nav>
  </header>

  <div class="progress-header">
    <h1><i class="fas fa-chart-line"></i> Your Learning Progress</h1>
    <p>Track your performance and improvement in each subject</p>
  </div>

  <div class="selector">
    <select id="class-select">
      <option value="">Select Class</option>
      <option value="1-3">Class 1 - 3</option>
      <option value="4-10">Class 4 - 10</option>
      <option value="11-12">Class 11 - 12</option>
    </select>

    <select id="group-select" style="display: none">
      <option value="">Select Group</option>
      <option value="bio">Bio-Maths</option>
      <option value="cs">Computer-Maths</option>
      <option value="ca">Computer Application</option>
      <option value="bm">Business Maths</option>
    </select>
  </div>

  <div class="progress-container" id="progress-cards"></div>

  <script>
    const subjects = {
      "1-3": ["Tamil", "English", "Maths"],
      "4-10": ["Tamil", "English", "Maths", "Science", "Social Science"],
      "11-12": {
        "bio": ["Tamil", "English", "Maths", "Biology", "Physics", "Chemistry"],
        "cs": ["Tamil", "English", "Maths", "Computer Science", "Physics", "Chemistry"],
        "ca": ["Tamil", "English", "Commerce", "Accounts", "Computer Application", "Economics"],
        "bm": ["Tamil", "English", "Business Math", "Commerce", "Accounts", "Economics"]
      }
    };

    const subjectIcons = {
      "Tamil": "fa-language",
      "English": "fa-book",
      "Maths": "fa-square-root-alt",
      "Science": "fa-flask",
      "Social Science": "fa-globe-asia",
      "Biology": "fa-dna",
      "Physics": "fa-atom",
      "Chemistry": "fa-vial",
      "Computer Science": "fa-laptop-code",
      "Computer Application": "fa-keyboard",
      "Commerce": "fa-business-time",
      "Accounts" : "fa-calculator",
      "Economics": "fa-chart-line",
      "Business Math": "fa-chart-pie"
    };

    // Sample data for performance metrics (in a real app, this would come from a database)
    const performanceData = {
      "Tamil": { streak: 5, lastScore: 75, avgScore: 68, quizzesTaken: 12 },
      "English": { streak: 3, lastScore: 82, avgScore: 78, quizzesTaken: 15 },
      "Maths": { streak: 7, lastScore: 65, avgScore: 72, quizzesTaken: 20 },
      "Science": { streak: 2, lastScore: 88, avgScore: 85, quizzesTaken: 18 },
      "Social Science": { streak: 4, lastScore: 79, avgScore: 76, quizzesTaken: 14 },
      "Biology": { streak: 6, lastScore: 91, avgScore: 84, quizzesTaken: 22 },
      "Physics": { streak: 1, lastScore: 70, avgScore: 65, quizzesTaken: 16 },
      "Chemistry": { streak: 3, lastScore: 77, avgScore: 73, quizzesTaken: 19 },
      "Computer Science": { streak: 8, lastScore: 95, avgScore: 89, quizzesTaken: 25 },
      "Computer Application": { streak: 5, lastScore: 83, avgScore: 80, quizzesTaken: 17 },
      "Commerce": { streak: 2, lastScore: 68, avgScore: 72, quizzesTaken: 13 },
      "Accounts": { streak: 4, lastScore: 75, avgScore: 70, quizzesTaken: 15 },
      "Economics": { streak: 3, lastScore: 80, avgScore: 77, quizzesTaken: 11 },
      "Business Math": { streak: 7, lastScore: 85, avgScore: 82, quizzesTaken: 21 }
    };

    const classSelect = document.getElementById('class-select');
    const groupSelect = document.getElementById('group-select');
    const container = document.getElementById('progress-cards');

    classSelect.addEventListener('change', () => {
      container.innerHTML = "";
      groupSelect.style.display = 'none';

      const selectedClass = classSelect.value;
      if (selectedClass === '11-12') {
        groupSelect.style.display = 'inline-block';
      } else if (subjects[selectedClass]) {
        renderCards(subjects[selectedClass]);
      }
    });

    groupSelect.addEventListener('change', () => {
      const selectedGroup = groupSelect.value;
      if (subjects['11-12'][selectedGroup]) {
        renderCards(subjects['11-12'][selectedGroup]);
      }
    });

    function getPerformanceLevel(percentage) {
      if (percentage < 30) return { level: "Beginner", class: "level-beginner" };
      if (percentage < 50) return { level: "Intermediate", class: "level-intermediate" };
      if (percentage < 80) return { level: "Advanced", class: "level-advanced" };
      return { level: "Expert", class: "level-expert" };
    }

    function renderCards(subjectList) {
      container.innerHTML = subjectList.map(subject => {
        const icon = subjectIcons[subject] || "fa-book-open";
        const performance = performanceData[subject] || { 
          streak: 0, 
          lastScore: 0, 
          avgScore: 0, 
          quizzesTaken: 0 
        };
        
        return `
          <div class="progress-card">
            ${performance.streak > 0 ? `<div class="streak-indicator" title="${performance.streak} day streak">${performance.streak}</div>` : ''}
            <h3><i class="fas ${icon} subject-icon"></i> ${subject}</h3>
            <div class="progress-details">
              <div>Completed: <span class="percentage">0</span>%</div>
              <div class="progress-level level-beginner">Beginner</div>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: 0%; background-color: #F44336;"></div>
            </div>
            
            <div class="performance-metrics">
              <div class="metric">
                <span class="metric-label">Last Test Score:</span>
                <span class="metric-value">${performance.lastScore}%</span>
              </div>
              <div class="metric">
                <span class="metric-label">Average Score:</span>
                <span class="metric-value">${performance.avgScore}%</span>
              </div>
              <div class="metric">
                <span class="metric-label">Quizzes Taken:</span>
                <span class="metric-value">${performance.quizzesTaken}</span>
              </div>
            </div>
            
            <div class="progress-actions">
              <input type="number" min="0" max="100" value="0" class="progress-input">
              <button class="update-btn">Update Progress</button>
            </div>
            <div class="last-updated">Last updated: <span class="update-time">Never</span></div>
          </div>
        `;
      }).join('');

      document.querySelectorAll('.update-btn').forEach(button => {
        button.addEventListener('click', function() {
          const card = this.closest('.progress-card');
          const input = card.querySelector('.progress-input');
          const percentage = parseInt(input.value);
          const fill = card.querySelector('.progress-fill');
          const text = card.querySelector('.percentage');
          const time = card.querySelector('.update-time');
          const levelElement = card.querySelector('.progress-level');

          let value = isNaN(percentage) ? 0 : Math.max(0, Math.min(percentage, 100));
          fill.style.width = value + '%';
          text.textContent = value;
          time.textContent = new Date().toLocaleString();

          // Update performance level
          const { level, class: levelClass } = getPerformanceLevel(value);
          levelElement.textContent = level;
          levelElement.className = `progress-level ${levelClass}`;

          // Update progress bar color based on percentage
          if (value < 30) {
            fill.style.backgroundColor = '#F44336'; // Red
          } else if (value < 70) {
            fill.style.backgroundColor = '#FF9800'; // Orange
          } else {
            fill.style.backgroundColor = '#4CAF50'; // Green
          }
        });
      });
    }
    
  </script>
  <!-- Firebase core SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>

<!-- Firebase Authentication SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<!-- Firebase Firestore SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>


<script>
  // Your Firebase project config from Firebase Console
  const firebaseConfig = {
    apiKey: "AIzaSyCSV8PasnXo_qF2Rogy8V9gjxFJtk69NKw",
    authDomain: "api-edushelf.firebaseapp.com",
    projectId: "api-edushelf",
    storageBucket: "api-edushelf.firebasestorage.app",
    messagingSenderId: "40944365050",
    appId: "1:40944365050:web:9daceb1696d7067c080843",
    measurementId: "G-L1YDNC0P9J"
  };

  // Initialize Firebase app
  firebase.initializeApp(firebaseConfig);

  // Initialize Firestore
  const db = firebase.firestore();
</script>

</body>
</html>